{"version":3,"sources":["components/input/Input.js","components/formAlert/FormAlert.js","views/accountPage/signInPage/SignInPage.js"],"names":["Input","onChange","value","placeholder","textLeft","className","style","direction","FormAlert","alerts","map","alert","key","connect","userSignIn","history","useHistory","token","useSelector","state","user","useState","formAlert","setFormAlert","push","email","password","form","setForm","onSubmit","event","preventDefault","JSON","parse","localStorage","getItem","filter","errors","length","target","to"],"mappings":"wGAAA,2BAeeA,IAZD,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,MAAOC,EAApB,EAAoBA,YAAaC,EAAjC,EAAiCA,SAAjC,OACV,yBAAKC,UAAU,SACb,8BAAOF,GACP,2BACEF,SAAUA,EACVC,MAAOA,EACPG,UAAU,QACVC,MAAO,CAAEC,UAAWH,EAAW,MAAQ,Y,uDCV/C,2BAeeI,IAZG,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACnB,OACE,wBAAIJ,UAAU,cAEVI,EAAOC,KAAI,SAAAC,GAAK,OACd,wBAAIC,IAAKD,GAAQA,S,iMCuFZE,sBAAQ,KAAM,CAAEC,gBAAhBD,EApFI,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACdC,EAAUC,cACVC,EAAQC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,SAFT,EAGHI,mBAAS,MAHN,mBAG9BC,EAH8B,KAGnBC,EAHmB,KAKjCN,GACFF,EAAQS,KAAK,iBANsB,MASbH,mBAAS,CAC/BI,MAAO,GACPC,SAAU,KAXyB,mBAS9BC,EAT8B,KASxBC,EATwB,KAmDrC,OACE,kBAAC,IAAD,CAAWvB,UAAU,eACnB,0BAAMwB,SA3BW,SAAAC,GACnBA,EAAMC,iBAEN,IACMX,EADQY,KAAKC,MAAMC,aAAaC,QAAQ,UAC3BC,QAAO,SAAAhB,GAAI,OAC5BA,EAAKK,QAAUE,EAAKF,OAASL,EAAKM,WAAaC,EAAKD,YACpD,GAEIW,EAAS,GAEXjB,GACFN,EAAWM,EAAKK,OAChBV,EAAQS,KAAK,MAEba,EAAOb,KAAK,gKAGQ,IAAlBa,EAAOC,OACTf,EAAa,kBAAC,IAAD,CAAWd,OAAQ4B,KAEhCd,EAAa,QAQX,mIACA,kBAAC,IAAD,CACEpB,YAAY,iCACZF,SA3CY,SAAA6B,GAClBF,EAAQ,2BACHD,GADE,IAELF,MAAOK,EAAMS,OAAOrC,UAyChBA,MAAOyB,EAAKF,MACZrB,UAAU,IAEZ,kBAAC,IAAD,CACED,YAAY,8CACZF,SA3Ce,SAAA6B,GACrBF,EAAQ,2BACHD,GADE,IAELD,SAAUI,EAAMS,OAAOrC,UAyCnBA,MAAOyB,EAAKD,SACZtB,UAAU,IAGVkB,EAEF,kBAAC,IAAD,4GACA,yBAAKjB,UAAU,sBACb,kBAAC,IAAD,CAASmC,GAAG,2BAAZ,wIAGA,kBAAC,IAAD,CAASA,GAAG,mBAAZ","file":"static/js/7.95f63cb9.chunk.js","sourcesContent":["import React from \"react\"\r\nimport \"./Input.scss\"\r\n\r\nconst Input = ({ onChange, value, placeholder, textLeft}) => (\r\n    <div className=\"input\">\r\n      <span>{placeholder}</span>      \r\n      <input\r\n        onChange={onChange}\r\n        value={value}\r\n        className=\"input\"\r\n        style={{ direction: textLeft ? \"ltr\" : \"rtl\" }}\r\n      />\r\n    </div>\r\n  )\r\n\r\nexport default Input","import React from \"react\"\r\nimport \"./FormAlert.scss\"\r\n\r\nconst FormAlert = ({ alerts }) => {\r\n  return (\r\n    <ul className=\"form-alert\">\r\n      {\r\n        alerts.map(alert => (\r\n          <li key={alert}>{alert}</li>\r\n        ))\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default FormAlert","import React, { useState } from \"react\"\r\nimport Input from \"../../../components/input/Input\"\r\nimport SubmitButton from \"../../../components/buttons/submitButton/SubmitButton\"\r\nimport \"./SignInPage.scss\"\r\nimport { NavLink, useHistory } from \"react-router-dom\"\r\nimport { Container } from \"reactstrap\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { connect } from \"react-redux\"\r\nimport { userSignIn } from \"../../../redux/actions/userActions\"\r\nimport FormAlert from \"../../../components/formAlert/FormAlert\"\r\n\r\nconst SignInPage = ({ userSignIn }) => {\r\n  const history = useHistory()\r\n  const token = useSelector(state => state.user.token)\r\n  const [formAlert, setFormAlert] = useState(null)\r\n\r\n  if (token) {\r\n    history.push(\"/user/profile\")\r\n  }\r\n\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  })\r\n\r\n  const handleEmail = event => {\r\n    setForm({\r\n      ...form,\r\n      email: event.target.value\r\n    })\r\n  }\r\n  const handlePassword = event => {\r\n    setForm({\r\n      ...form,\r\n      password: event.target.value\r\n    })\r\n  }\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    const users = JSON.parse(localStorage.getItem(\"users\"))\r\n    const user = users.filter(user => (\r\n      user.email === form.email && user.password === form.password)\r\n    )[0]      \r\n    \r\n    const errors = []\r\n    \r\n    if (user) {\r\n      userSignIn(user.email)\r\n      history.push(\"/\")\r\n    } else {\r\n      errors.push(\"ایمیل یا رمز عبور صحیح نمی باشد\")\r\n    }\r\n\r\n    if (errors.length !== 0) {\r\n      setFormAlert(<FormAlert alerts={errors} />)\r\n    } else {\r\n      setFormAlert(null)\r\n    }      \r\n    \r\n  }\r\n\r\n  return (\r\n    <Container className=\"signin-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h4>ورود به حساب کاربری</h4>\r\n        <Input\r\n          placeholder=\"ایمیل\"\r\n          onChange={handleEmail}\r\n          value={form.email}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"گذر واژه\"\r\n          onChange={handlePassword}\r\n          value={form.password}\r\n          textLeft={true}\r\n        />\r\n        {\r\n          formAlert\r\n        }\r\n        <SubmitButton>ورود به حساب کاربری</SubmitButton>\r\n        <div className=\"signin-form-footer\">\r\n          <NavLink to=\"/account/reset_password\">\r\n            رمز عبور را فراموش کرده ام!\r\n          </NavLink>\r\n          <NavLink to=\"/account/signup\">\r\n            ایجاد حساب کاربری\r\n          </NavLink>\r\n        </div>\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default connect(null, { userSignIn })(SignInPage)"],"sourceRoot":""}