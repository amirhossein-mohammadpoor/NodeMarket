{"version":3,"sources":["constants/credits.js","views/userPage/userCredit/UserCredit.js"],"names":["title","value","connect","editUserProfile","useState","showInput","setShowInput","setValue","credit","setCredit","token","useSelector","state","user","USER","users","filter","email","useEffect","handleShowInput","handleAddCredit","Number","className","credits","map","key","onClick","SubmitButton","Fragment","onChange","e","target","placeholder"],"mappings":"0MAAe,GACb,CACEA,MAAO,iEACPC,MAAO,KAET,CACED,MAAO,iEACPC,MAAO,KAET,CACED,MAAO,iEACPC,MAAO,KAET,CACED,MAAO,kEACPC,MAAO,MC6EIC,sBAAQ,KAAM,CAAEC,qBAAhBD,EApFI,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBAAsB,EACRC,oBAAS,GADD,mBACnCC,EADmC,KACxBC,EADwB,OAEhBF,mBAAS,IAFO,mBAEnCH,EAFmC,KAE5BM,EAF4B,OAGdH,mBAAS,GAHK,mBAGnCI,EAHmC,KAG3BC,EAH2B,KAKpCC,EAAQC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,SACxCI,EAAOH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKE,MAAMC,QACjD,SAAAH,GAAI,OAAIA,EAAKI,QAAUP,QACtB,GAEHQ,qBAAU,WACRT,EAAUK,EAAKN,UACd,CAACM,IAEJ,IAAMK,EAAkB,WACtBb,GAAcD,IAEVe,EAAkB,SAAAnB,GACtBA,EAAQoB,OAAOpB,GACf,IAAMY,EAAI,2BACLC,GADK,IAERN,OAAQM,EAAKN,OAASP,IAExBE,EAAgBU,GAChBN,EAAS,KAGX,OACE,yBAAKe,UAAU,eACb,yGACA,8FAAiB,8BAAOd,EAAP,oCACjB,6BACE,wBAAIc,UAAU,+CAEVC,EAAQC,KAAI,SAAAhB,GAAM,OAChB,wBACEiB,IAAKjB,EAAOR,MACZ0B,QAAS,kBAAMN,EAAgBZ,EAAOP,SAEtC,kBAAC0B,EAAA,EAAD,KAAenB,EAAOR,WAI5B,4BACE,kBAAC2B,EAAA,EAAD,CAAcD,QAASP,GAAvB,mEAGJ,wBAAIG,UAAU,mDAEVC,EAAQC,KAAI,SAAAhB,GAAM,OAChB,wBACEiB,IAAKjB,EAAOR,MACZsB,UAAU,OACVI,QAAS,kBAAMN,EAAgBZ,EAAOP,SAEtC,kBAAC0B,EAAA,EAAD,KAAenB,EAAOR,WAI5B,wBAAIsB,UAAU,QACZ,kBAACK,EAAA,EAAD,CAAcD,QAASP,GAAvB,oEAKJd,GACA,kBAAC,IAAMuB,SAAP,KACE,yBAAKN,UAAU,uBACb,2BACEO,SAAU,SAAAC,GAAC,OAAIvB,EAASuB,EAAEC,OAAO9B,QACjCA,MAAOA,EACP+B,YAAY,yLAEd,iEAEF,yBAAKV,UAAU,qBACb,kBAACK,EAAA,EAAD,CAAcD,QAAS,kBAAMN,EAAgBnB,KAA7C","file":"static/js/15.078a3513.chunk.js","sourcesContent":["export default [\r\n  {\r\n    title: \"10.000 هزار تومان\",\r\n    value: 10000\r\n  },\r\n  {\r\n    title: \"20.000 هزار تومان\",\r\n    value: 20000\r\n  },\r\n  {\r\n    title: \"50.000 هزار تومان\",\r\n    value: 50000\r\n  },\r\n  {\r\n    title: \"100.000 هزار تومان\",\r\n    value: 100000\r\n  },\r\n]","import React, { useState, useEffect } from \"react\"\r\nimport \"./UserCredit.scss\"\r\nimport SubmitButton from \"../../../components/buttons/submitButton/SubmitButton\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { editUserProfile } from \"../../../redux/actions/userActions\"\r\nimport { connect } from \"react-redux\"\r\nimport credits from \"../../../constants/credits\"\r\n\r\nconst UserCredit = ({ editUserProfile }) => {\r\n  const [showInput, setShowInput] = useState(false)\r\n  const [value, setValue] = useState(\"\")\r\n  const [credit, setCredit] = useState(0)\r\n\r\n  const token = useSelector(state => state.user.token)\r\n  const USER = useSelector(state => state.user.users.filter(\r\n    user => user.email === token\r\n  ))[0]\r\n    \r\n  useEffect(() => {\r\n    setCredit(USER.credit)\r\n  }, [USER])\r\n\r\n  const handleShowInput = () => {\r\n    setShowInput(!showInput)\r\n  }\r\n  const handleAddCredit = value => {\r\n    value = Number(value)    \r\n    const user = {\r\n      ...USER,\r\n      credit: USER.credit + value\r\n    }\r\n    editUserProfile(user)\r\n    setValue(\"\")\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-credit\">\r\n      <h4>افزایش اعتبار</h4>\r\n      <h5>موجودی فعلی: <span>{credit} تومان</span></h5>\r\n      <div>\r\n        <ul className=\"d-none d-md-flex justify-content-md-between\">\r\n          {\r\n            credits.map(credit => (\r\n              <li \r\n                key={credit.title}\r\n                onClick={() => handleAddCredit(credit.value)}\r\n              >\r\n                <SubmitButton>{credit.title}</SubmitButton>\r\n              </li>\r\n            ))\r\n          }\r\n          <li>\r\n            <SubmitButton onClick={handleShowInput}>مبلغ دلخواه</SubmitButton>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"d-flex flex-column align-items-center d-md-none\">\r\n          {\r\n            credits.map(credit => (\r\n              <li \r\n                key={credit.title}\r\n                className=\"mb-4\" \r\n                onClick={() => handleAddCredit(credit.value)}\r\n              >\r\n                <SubmitButton>{credit.title}</SubmitButton>\r\n              </li>\r\n            ))\r\n          }\r\n          <li className=\"mb-4\">\r\n            <SubmitButton onClick={handleShowInput}>مبلغ دلخواه</SubmitButton>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      {\r\n        showInput &&\r\n        <React.Fragment>\r\n          <div className=\"custom-credit-input\">\r\n            <input\r\n              onChange={e => setValue(e.target.value)}\r\n              value={value}\r\n              placeholder=\"مبلغ افزایش اعتبار را به تومان کنید\"\r\n            />\r\n            <span>تومان</span>\r\n          </div>\r\n          <div className=\"add-credit-button\">\r\n            <SubmitButton onClick={() => handleAddCredit(value)}>افزایش اعتبار</SubmitButton>\r\n          </div>\r\n        </React.Fragment>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null, { editUserProfile })(UserCredit)"],"sourceRoot":""}