(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{220:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return m}));var a=r(4),c=r(13),n=r(27),u=function(e){var t=JSON.parse(localStorage.getItem("carts"));return localStorage.setItem("carts",JSON.stringify([].concat(Object(c.a)(t),[e]))),{type:n.a.CREATE_CART,cart:e}},o=function(e){var t=JSON.parse(localStorage.getItem("carts")).map((function(t){return t.email===e.email?{email:e.email,products:[].concat(Object(c.a)(t.products),[e.products[0]])}:t}));return localStorage.setItem("carts",JSON.stringify(t)),{type:n.a.ADD_ITEM,cart:e}},s=function(e,t){var r=function(e){return e.productId===t?{productId:e.productId,productName:e.productName,productPrice:e.productPrice,number:e.number+1}:e},a=JSON.parse(localStorage.getItem("carts")).map((function(t){return t.email===e?{email:e,products:t.products.map(r)}:t}));return localStorage.setItem("carts",JSON.stringify(a)),{type:n.a.INCREMENT_ITEM,email:e,id:t}},l=function(e,t){var r=function(e){return e.productId===t?{productId:e.productId,productName:e.productName,productPrice:e.productPrice,number:e.number-1}:e},a=JSON.parse(localStorage.getItem("carts")).map((function(t){return t.email===e?{email:e,products:t.products.map(r)}:t}));return localStorage.setItem("carts",JSON.stringify(a)),{type:n.a.DECREMENT_ITEM,email:e,id:t}},i=function(e,t){var r=JSON.parse(localStorage.getItem("carts")).map((function(r){return r.email===e?{email:e,products:r.products.filter((function(e){return e.productId!==t}))}:r}));return localStorage.setItem("carts",JSON.stringify(r)),{type:n.a.REMOVE_ITEM,email:e,id:t}},m=function(e){var t=JSON.parse(localStorage.getItem("carts")).map((function(t){return t.email===e?Object(a.a)(Object(a.a)({},t),{},{products:[]}):t}));return localStorage.setItem("carts",JSON.stringify(t)),{type:n.a.EMPTY_CART,email:e}}},355:function(e,t,r){},366:function(e,t,r){"use strict";r.r(t);var a=r(14),c=r(52),n=r(1),u=r.n(n),o=(r(355),r(57)),s=r(24),l=r(25),i=r(62),m=r(61),p=r(9),d=r(58),f=r(220),E=r(5),g=r(207),b=Object(l.b)({user:m.a,userProducts:i.b});t.default=Object(s.b)(b,{submitOrder:d.e,emptyCart:f.d})((function(e){var t,r=e.userProducts,s=e.user,l=e.submitOrder,i=e.emptyCart,m=s.credit,d=0,f=Object(c.a)(r);try{for(f.s();!(t=f.n()).done;){var b=t.value;d+=b.number*Number(b.productPrice)}}catch(J){f.e(J)}finally{f.f()}var N=m-d,S=Object(p.g)(),O=Object(n.useState)(!1),I=Object(a.a)(O,2),y=I[0],v=I[1];return u.a.createElement("div",{className:"checkout-wrapper"},u.a.createElement(g.a,{className:"checkout-content"},u.a.createElement("div",{className:"cash"},u.a.createElement("span",null,"\u0645\u0648\u062c\u0648\u062f\u06cc"),u.a.createElement("span",null,m," \u062a\u0648\u0645\u0627\u0646")),u.a.createElement("div",{className:"price"},u.a.createElement("span",null,"\u0647\u0632\u06cc\u0646\u0647 \u06a9\u0644 \u0645\u062d\u0635\u0648\u0644\u0627\u062a"),u.a.createElement("span",null,d," \u062a\u0648\u0645\u0627\u0646")),u.a.createElement("div",{className:"total"},u.a.createElement("span",null,"\u0627\u0639\u062a\u0628\u0627\u0631 \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647"),N<0&&u.a.createElement("span",{style:{color:"red"}},-N,"- \u062a\u0648\u0645\u0627\u0646"),N>=0&&u.a.createElement("span",{style:{color:"blue"}},"\u062a\u0648\u0645\u0627\u0646 ",N)),y&&u.a.createElement("div",{className:"not-enough-credit"},"\u0627\u0639\u062a\u0628\u0627\u0631 \u0634\u0645\u0627 \u06a9\u0627\u0641\u06cc \u0646\u06cc\u0633\u062a \u0628\u0631\u0627\u06cc \u0627\u0641\u0632\u0627\u06cc\u0634 \u0627\u0639\u062a\u0628\u0627\u0631 ",u.a.createElement(E.b,{to:"/user/credit"},"\u0644\u06cc\u0646\u06a9+")," \u0631\u0627 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"),u.a.createElement(o.a,{style:{width:"100%"},onClick:function(){if(N<0)return v(!0);var e={products:r,date:(new Date).toLocaleString()};l(s.email,e,d),i(s.email),S.push("/user/orders")}},"\u0627\u0631\u0633\u0627\u0644 \u0633\u0641\u0627\u0631\u0634")))}))}}]);
//# sourceMappingURL=13.a7362d10.chunk.js.map