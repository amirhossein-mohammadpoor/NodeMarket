{"version":3,"sources":["components/input/Input.js","redux/actions/cartActions.js","components/formAlert/FormAlert.js","views/accountPage/signupPage/SignUpPage.js"],"names":["Input","onChange","value","placeholder","textLeft","className","style","direction","createCart","cart","carts","JSON","parse","localStorage","getItem","setItem","stringify","type","types","CREATE_CART","addItem","newCarts","map","c","email","products","ADD_ITEM","incrementItem","id","updateProduct","p","productId","productName","productPrice","number","INCREMENT_ITEM","decrementItem","DECREMENT_ITEM","removeItem","filter","REMOVE_ITEM","emptyCart","EMPTY_CART","FormAlert","alerts","alert","key","connect","signUpUser","history","useHistory","useState","name","lastName","password","repeatPassword","form","setForm","formAlert","setFormAlert","onSubmit","event","preventDefault","errors","validator","isEmail","push","isNumeric","isLength","min","length","user","trim","normalizeEmail","credit","position","favorites","orders","target"],"mappings":"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","file":"static/js/6.4cf9458e.chunk.js","sourcesContent":["import React from \"react\"\r\nimport \"./Input.scss\"\r\n\r\nconst Input = ({ onChange, value, placeholder, textLeft}) => (\r\n    <div className=\"input\">\r\n      <span>{placeholder}</span>      \r\n      <input\r\n        onChange={onChange}\r\n        value={value}\r\n        className=\"input\"\r\n        style={{ direction: textLeft ? \"ltr\" : \"rtl\" }}\r\n      />\r\n    </div>\r\n  )\r\n\r\nexport default Input","import types from '../types/cartTypes'\r\n\r\nexport const createCart = cart => {\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  localStorage.setItem(\"carts\", JSON.stringify([...carts, cart]))\r\n  return {\r\n    type: types.CREATE_CART,\r\n    cart\r\n  }\r\n}\r\n\r\nexport const addItem = cart => {\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  const newCarts = carts.map(c => (\r\n    c.email === cart.email ?\r\n      {\r\n        email: cart.email,\r\n        products: [...c.products, cart.products[0]]\r\n      } : c\r\n  ))\r\n  localStorage.setItem(\"carts\", JSON.stringify(newCarts))\r\n\r\n  return {\r\n    type: types.ADD_ITEM,\r\n    cart\r\n  }\r\n}\r\n\r\nexport const incrementItem = (email, id) => {\r\n  const updateProduct = p => {\r\n    return p.productId === id ?\r\n      {\r\n        productId: p.productId,\r\n        productName: p.productName,\r\n        productPrice: p.productPrice,\r\n        number: p.number + 1\r\n      } : p\r\n  }\r\n\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  const newCarts = carts.map(c => {\r\n    return c.email === email ?\r\n      {\r\n        email: email,\r\n        products: c.products.map(updateProduct)\r\n      } : c\r\n  })\r\n  localStorage.setItem(\"carts\", JSON.stringify(newCarts))\r\n\r\n  return {\r\n    type: types.INCREMENT_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const decrementItem = (email, id) => {\r\n  const updateProduct = p => {\r\n    return p.productId === id ?\r\n      {\r\n        productId: p.productId,\r\n        productName: p.productName,\r\n        productPrice: p.productPrice,\r\n        number: p.number - 1\r\n      } : p\r\n  }\r\n\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  const newCarts = carts.map(c => {\r\n    return c.email === email ?\r\n      {\r\n        email: email,\r\n        products: c.products.map(updateProduct)\r\n      } : c\r\n  })\r\n  localStorage.setItem(\"carts\", JSON.stringify(newCarts))\r\n\r\n  return {\r\n    type: types.DECREMENT_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const removeItem = (email, id) => {\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  const newCarts = carts.map(c => {\r\n    return c.email === email ?\r\n      {\r\n        email: email,\r\n        products: c.products.filter(p => p.productId !== id)\r\n      }\r\n      :\r\n      c\r\n  })\r\n  localStorage.setItem(\"carts\", JSON.stringify(newCarts))\r\n\r\n  return {\r\n    type: types.REMOVE_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const emptyCart = email => {\r\n  const carts = JSON.parse(localStorage.getItem(\"carts\"))\r\n  const newCarts = carts.map(c => {\r\n    return c.email === email ?\r\n      {\r\n        ...c,\r\n        products: []\r\n      } : c\r\n  })\r\n  localStorage.setItem(\"carts\", JSON.stringify(newCarts))\r\n\r\n  return {\r\n    type: types.EMPTY_CART,\r\n    email\r\n  }\r\n}","import React from \"react\"\r\nimport \"./FormAlert.scss\"\r\n\r\nconst FormAlert = ({ alerts }) => {\r\n  return (\r\n    <ul className=\"form-alert\">\r\n      {\r\n        alerts.map(alert => (\r\n          <li key={alert}>{alert}</li>\r\n        ))\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default FormAlert","import React, { useState } from \"react\"\r\nimport Input from \"../../../components/input/Input\"\r\nimport SubmitButton from \"../../../components/buttons/submitButton/SubmitButton\"\r\nimport \"./SignUpPage.scss\"\r\nimport FormAlert from \"../../../components/formAlert/FormAlert\"\r\nimport { Container } from \"reactstrap\"\r\nimport validator from \"validator\"\r\nimport { connect } from \"react-redux\"\r\nimport { signUpUser } from \"../../../redux/actions/userActions\"\r\nimport { createCart } from \"../../../redux/actions/cartActions\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst SignUpPage = ({ signUpUser, createCart }) => {\r\n  const history = useHistory()\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    lastName: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\"\r\n  })\r\n  const [formAlert, setFormAlert] = useState(null)\r\n\r\n  const handleName = event => {\r\n    setForm({\r\n      ...form,\r\n      name: event.target.value\r\n    })\r\n  }\r\n  const handleLastName = event => {\r\n    setForm({\r\n      ...form,\r\n      lastName: event.target.value\r\n    })\r\n  }\r\n  const handleNumber = event => {\r\n    setForm({\r\n      ...form,\r\n      number: event.target.value\r\n    })\r\n  }\r\n  const handleEmail = event => {\r\n    setForm({\r\n      ...form,\r\n      email: event.target.value\r\n    })\r\n  }\r\n  const handlePassword = event => {\r\n    setForm({\r\n      ...form,\r\n      password: event.target.value\r\n    })\r\n  }\r\n  const handleRepeatPassword = event => {\r\n    setForm({\r\n      ...form,\r\n      repeatPassword: event.target.value\r\n    })\r\n  }\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    const errors = []\r\n\r\n    if (!validator.isEmail(form.email)) {\r\n      errors.push(\"ایمیل معتبر نیست\")\r\n    }\r\n\r\n    if (!validator.isNumeric(form.number)) {\r\n      errors.push(\"شماره همراه معتبر نیست\")\r\n    }\r\n\r\n    if (!validator.isLength(form.password, { min: 4 })) {\r\n      errors.push(\"طول گذر واژه باید حداقل 4 کاراکتر باشد\")\r\n    }\r\n\r\n    if (form.password !== form.repeatPassword) {\r\n      errors.push(\"گذر واژه ها همخوانی ندارد\")\r\n    }\r\n\r\n    if (errors.length !== 0) {\r\n      setFormAlert(<FormAlert alerts={errors} />)\r\n    } else {\r\n      setFormAlert(null)\r\n\r\n      const user = {\r\n        name: form.name.trim(),\r\n        lastName: form.lastName.trim(),\r\n        number: form.number.trim(),\r\n        email: validator.normalizeEmail(form.email),\r\n        password: form.password.trim(),\r\n        credit: 0,\r\n        position: [],\r\n        favorites: [],\r\n        orders: []\r\n      }\r\n\r\n      const cart = {\r\n        email: validator.normalizeEmail(form.email),\r\n        products: []\r\n      }\r\n\r\n      createCart(cart)\r\n      signUpUser(user)\r\n\r\n      history.push(\"/user/profile\")\r\n\r\n      setForm({\r\n        name: \"\",\r\n        lastName: \"\",\r\n        number: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        repeatPassword: \"\"\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"signup-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h4>ثبت نام</h4>\r\n        <Input\r\n          placeholder=\"نام\"\r\n          onChange={handleName}\r\n          value={form.name}\r\n          textLeft={false}\r\n        />\r\n        <Input\r\n          placeholder=\"نام خانوادگی\"\r\n          onChange={handleLastName}\r\n          value={form.lastName}\r\n          textLeft={false}\r\n        />\r\n        <Input\r\n          placeholder=\"شماره همراه\"\r\n          onChange={handleNumber}\r\n          value={form.number}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"ایمیل\"\r\n          onChange={handleEmail}\r\n          value={form.email}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"گذر واژه\"\r\n          onChange={handlePassword}\r\n          value={form.password}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"تکرار گذر واژه\"\r\n          onChange={handleRepeatPassword}\r\n          value={form.repeatPassword}\r\n          textLeft={true}\r\n        />\r\n        {\r\n          formAlert\r\n        }\r\n        <SubmitButton>ثبت نام</SubmitButton>\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default connect(null, { signUpUser, createCart })(SignUpPage)"],"sourceRoot":""}